window.storyFormat({"name":"Explorer","version":"1.0.0","author":"Steve Washington","image":"","url":"","license":"MIT","proofing":false,"source":"<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t<meta charset=\"utf-8\">\n\t\t<title>{{STORY_NAME}}</title>\n\t</head>\n\t<body>\n\t\t{{STORY_DATA}}\n\t\t<div id=\"tw-story\">\n\t\t\t<div id=\"tw-passage\"></div>\n\t\t</div>\n\t\t<script type=\"text/javascript\">\n\t\t\t(()=>{const t=(()=>{const t=document.querySelector(\"tw-storydata\");if(!t)throw new Error(\"Story Data is missing! Oops!\");const r=t.getAttribute(\"name\"),e=t.getAttribute(\"ifid\"),i=t.getAttribute(\"startnode\");if(!r)throw new Error(\"Story is missing a name!\");if(!e)throw new Error(\"Story is missing an ifid!\");if(!i)throw new Error(\"No startnode specified!\");const s=t.getAttribute(\"format\"),o=t.getAttribute(\"format-version\"),a=t.getAttribute(\"zoom\"),n=t.getAttribute(\"creator\"),g=t.getAttribute(\"creator-version\"),p=[],w=document.querySelectorAll(\"tw-passagedata\");return Array.from(w).forEach((t=>{const r=t.getAttribute(\"pid\"),e=t.getAttribute(\"name\");if(!r)throw new Error(`A passage (name: ${e}) is missing a pid!`);if(!e)throw new Error(`A passage with pid ${r} is missing a name!`);const i=t.getAttribute(\"name\"),s=t.getAttribute(\"name\"),o=t.getAttribute(\"name\"),a=t.innerHTML,n=i?.split(\" \"),g={x:0,y:0};if(s){const t=s.split(\",\").map((t=>parseFloat(t)));g.x=t[0],g.y=t[1]}const w={width:100,height:100};if(o){const t=o.split(\",\").map((t=>parseFloat(t)));w.width=t[0],w.height=t[1]}p.push({pid:r,name:e,tags:n,position:g,size:w,content:a})})),{name:r,ifid:e,format:s,formatVersion:o,startnode:i,zoom:a,creator:n,creatorVersion:g,passages:p,currentPassagePid:i}})(),r=document.querySelector(\"#tw-story\");if(!r)throw new Error(\"Missing story container #tw-story!\");const e=r.querySelector(\"#tw-story #tw-passage\");if(!e)throw new Error(\"Missing passage container #tw-passage\");((t,r,e)=>{if(!t)throw new Error(\"Tried to display a passage without supplying a pid!\");const i=((t,r)=>r.find((r=>r.pid===t)))(t,r);if(!i)throw new Error(`Tried to display passage with pid: ${t}, but it doesn't exist!`);e.innerHTML=i.content})(t.currentPassagePid,t.passages,e)})();\n//# sourceMappingURL=index.js.map\n\n\t\t</script>\n\t</body>\n</html>"})